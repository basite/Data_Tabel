<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Data Tabel</title>
    <style>
            table{
                width: 60%;
                border: 5px blue;
                border-collapse: collapse;
            }
            th{
                
            } ,
            td{
                height: 30px; border: 5px double blue;
                border-collapse: collapse;
                
            }
    </style>
</head>
<body>
    <center>
        <h1> Data Tabel </h1><br>
    Nama : <input type="text" id="name"> Tgl. Lahir : <input type="date" id="tgl"> Kota : <input type="text" id="kota"><br><br>
    <button id="daftar" onclick="data()"> D  A  F  T  A  R</button><br><br><br><br>
    <button id="sna" onclick="sna()"> Sort Nama ðŸ ‘ </button>
    <button id="snd" onclick="snd()"> Sort Nama ðŸ “</button>
    <button id="sua" onclick="sua()"> Sort Usia ðŸ ‘</button>
    <button id="sud" onclick="sud()"> Sort Usia ðŸ “</button>
    <button id="ska" onclick="ska()"> Sort Kota ðŸ ‘</button>
    <button id="skd" onclick="skd()"> Sort Kota ðŸ “</button><br><br>
        <table>
            <thead id="thead"></thead>
            <tbody id="tbody"></tbody>
        </table>
    <script>
        var users = []
        var month =["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]
               
            function data() {
                
                var dataUser = {
                    nama        :document.getElementById('name').value,
                    tahunlahir  :document.getElementById('tgl').value.slice(0,4),
                    bulan       :month[parseInt(document.getElementById('tgl').value.slice(5,7)-1)],
                    tanggal     :document.getElementById('tgl').value.slice(8,10),
                    usia        : 2018 - document.getElementById('tgl').value.slice(0,4),
                    pensiun     :(2018 - document.getElementById('tgl').value.slice(0,4)) -55,
                    kota        :document.getElementById('kota').value,
                                               
                    zodiak      : function(){
                        if(this.tanggal>=21 && this.bulan=="Januari" || this.tanggal<=19 && this.bulan=="Februari"){
                            return 'Aquarius'
                        }else if(this.tanggal>=20 && this.bulan=="Februari" || this.tanggal<=20 && this.bulan=="Maret"){
                            return 'Pisces'
                        }else if(this.tanggal>=21 && this.bulan=="Maret" || this.tanggal<=20 && this.bulan=="April"){
                            return 'Aries'
                        }else if(this.tanggal>=21 && this.bulan=="April" || this.tanggal<=21 && this.bulan=="Mei"){
                            return 'Taurus'
                        }else if(this.tanggal>=22 && this.bulan=="Mei" || this.tanggal<=21 && this.bulan=="Juni"){
                            return 'Gemini'
                        }else if(this.tanggal>=22 && this.bulan=="Juni" || this.tanggal<=22 && this.bulan=="Juli"){
                            return 'Cancer'
                        }else if(this.tanggal>=23 && this.bulan=="Juli" || this.tanggal<=222 && this.bulan=="Agustus"){
                            return 'Leo'
                        }else if(this.tanggal>=23 && this.bulan=="Agustus" || this.tanggal<=22 && this.bulan=="September"){
                            return 'Virgo'
                        }else if(this.tanggal>=23 && this.bulan=="September" || this.tanggal<=22 && this.bulan=="Oktober"){
                            return 'Libra'
                        }else if(this.tanggal>=23 && this.bulan=="Oktober" || this.tanggal<=21 && this.bulan=="November"){
                            return 'Scorpio'
                        }else if(this.tanggal>=22 && this.bulan=="November" || this.tanggal<=21 && this.bulan=="Desember"){
                            return 'Sagitarius'
                        }else if(this.tanggal>=22 && this.bulan=="Desember" || this.tanggal<=20 && this.bulan=="Januari"){
                            return 'Capricorn'
                        }else {
                            return "zodiak"
                        }
                    }    
                }
            }
                function sna() {
            document.getElementById("tbody").innerHTML = ""
                data.sort(function(a,b){
                    if(a.name == b.name){
                        return 0;
                    }
                    else if(a.name < b.name){
                        return -1
                    }
                    else {
                        return 1;
                    }
                });
                show();
        }
        function snd() {
            document.getElementById("tbody").innerHTML = "";
                data.sort(function(a,b){
                    if(a.name == b.name){
                        return 0;
                    }
                    else if(a.name < b.name){
                        return 1
                    }
                    else {
                        return -1;
                    }
                });
                show();
        }
         function ska() {
            document.getElementById("tbody").innerHTML = "";
                data.sort(function(a,b){
                    if(a.city == b.city){
                        return 0;
                    }
                    else if(a.city < b.city){
                        return -1
                    }
                    else {
                        return 1;
                    }
                });
                show();
        }
         function skd() {
            document.getElementById("tbody").innerHTML = "";
                data.sort(function(a,b){
                    if(a.city == b.city){
                        return 0;
                    }
                    else if(a.city < b.city){
                        return 1
                    }
                    else {
                        return -1;
                    }
                });
                show();
        }
         function stgla() {
            document.getElementById("tbody").innerHTML = "";
                data.sort(function(a,b){
                    if(a.date() == b.date()){
                        return 0;
                    }
                    else if(a.date() < b.date()){
                        return -1
                    }
                    else {
                        return 1;
                    }
                });
                show();
        }
         function stgld() {
            document.getElementById("tbody").innerHTML = "";
                data.sort(function(a,b){
                    if(a.date() == b.date()){
                        return 0;
                    }
                    else if(a.date() < b.date()){
                        return -1
                    }
                    else {
                        return 1;
                    }
                });
                show();
        }
         function sua() {
            document.getElementById("tbody").innerHTML = "";
                data.sort(function(a,b){
                    return a.age() - b.age();
                });
                show();
        }
         function sud() {
            console.log(data[0][2])
            document.getElementById("tbody").innerHTML = "";
                data.sort(function(a,b){
                    return b.age() - a.age();
                });
                show();
        }
            document.getElementById("tab").style.visibility = "visible"
            if(data.length==0){
                document.getElementById("jumlahItem").innerHTML = ""
                document.getElementById("tab").style.visibility = "hidden"
            }
        function funcHapus(x){
            data.splice(x, 1);
            show();
        }
                users.push(dataUser)                
                document.getElementById("thead").innerHTML ='<tr><th rowspan="2" bgcolor="yellow">Nama</th><th colspan="3" bgcolor="#00ff80">Tanggal Lahir</th><th rowspan="2" bgcolor="yellow">Zodiak</th><th rowspan="2" bgcolor="yellow">Usia</th><th rowspan="2" bgcolor="yellow">Pensiun</th><th rowspan="2" bgcolor="yellow">Kota</th><th rowspan="2" bgcolor="yellow">Hapus</th></tr><tr><th bgcolor="yellow">Tahun</th><th bgcolor="yellow">Tanggal</th><th bgcolor="yellow">Bulan</th></tr>';
                document.getElementById("tbody").innerHTML = ' ';
        
                for(var i=0; i<users.length; i++){
                document.getElementById("tbody").innerHTML += 
                '<tr><th>' + users[i].nama + '</th><th>'+ users[i].tahunlahir + 
                '</th><th>' + users[i].tanggal + '</th> <th>' + users[i].bulan + '</th><th>' + users[i].usia + 
                '</th><th>' + users[i].zodiak() + '</th><th>' + users[i].pensiun + 
                '</th><th>' + users[i].kota + '</th></tr>'
                }
    
    </script>
    </center>
</body>
</html>